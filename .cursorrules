# Agent Analytics Platform - Cursor Rules

## ğŸ”— Working with Beads (Task Management)

**Beads** = External memory for tracking improvements across sessions (survives context resets)

### ğŸš¨ Common Error Prevention

**BEFORE calling `bd` commands, follow these patterns:**

#### 1. Query Issues (Most Common)

```bash
# âœ… CORRECT - Always use --json for programmatic access
bd list --assignee claude --json

# âŒ WRONG - Plain text hard to parse
bd list --assignee claude
```

#### 2. Create Issues

```bash
# âœ… CORRECT - Explicit flags
bd create --title "Fix issue X" --assignee claude --priority 1

# âŒ WRONG - Missing quotes on multi-word titles
bd create --title Fix issue X

# âŒ WRONG - Invalid priority (must be 0-4)
bd create --title "Task" --priority 5
```

**Valid values:**
- `--priority`: 0 (P0/critical) to 4 (P4/nice-to-have)
- `--assignee`: `claude` or `human`
- `--status`: `open`, `in-progress`, `closed`, `archived`

#### 3. Update Issues

```bash
# âœ… CORRECT - Valid status value
bd update dbt-agent-123 --status in-progress

# âŒ WRONG - Invalid status (must be hyphenated)
bd update dbt-agent-123 --status "in progress"

# âŒ WRONG - Missing issue ID
bd update --status closed
```

#### 4. Verify Before Update

```bash
# âœ… ALWAYS check issue exists first
bd show dbt-agent-123 --json

# Then update if found
bd update dbt-agent-123 --status closed
```

### ğŸ“‹ Quick Reference

**Session Start:**
```bash
bd list --assignee claude --json | head -50
```

**Create During Work:**
```bash
bd create --title "[improvement]" \
  --assignee claude \
  --priority 1 \
  --deps "discovered-from:dbt-agent-X"
```

**Mark Complete:**
```bash
bd update dbt-agent-X --status closed
```

